

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>MagPy &mdash; MagPy 0.1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="MagPy 0.1.0 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> MagPy
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="denoise.html">denoise module</a></li>
<li class="toctree-l1"><a class="reference internal" href="changepoint.html">changepoint module</a></li>
<li class="toctree-l1"><a class="reference internal" href="inputoutput.html">inputoutput module</a></li>
<li class="toctree-l1"><a class="reference internal" href="svplots.html">svplots module</a></li>
<li class="toctree-l1"><a class="reference internal" href="svtools.html">svtools module</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">MagPy</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>MagPy</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/modules.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="magpy">
<h1>MagPy<a class="headerlink" href="#magpy" title="Permalink to this headline">Â¶</a></h1>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
<p>Module containing functions to remove external signal from geomagnetic data.</p>
<p>Part of the MagPy package for geomagnetic data analysis. This module provides
various functions to denoise geomagnetic data by performing principal component
analysis.</p>
<dl class="function">
<dt>
<code class="descclassname">magpy.denoise.</code><code class="descname">eigenvalue_analysis</code><span class="sig-paren">(</span><em>*</em>, <em>dates</em>, <em>obs_data</em>, <em>model_data</em>, <em>residuals</em>, <em>proxy_number=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magpy/denoise.html#eigenvalue_analysis"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Perform principal component analysis (PCA) on secular variation
residuals (the difference between the observed SV and that predicted by a
geomagnetic field model) calculated from annual differences of monthly
means at several observatories. Uses the imputer from sklearn.preprocessing
to fill in missing data points and calculates the eigenvalues/vectors of
the (3nx3n) covariance matrix for n observatories. The residuals are
rotated into the eigendirections and denoised using the method detailed in
Wardinski &amp; Holme (2011). The SV residuals of the noisy component for all
observatories combined are used as a proxy for the unmodelled external
signal.The denoised data are then rotated back into geographic coordinates.
Principal component analysis - find the eigenvalues and eigenvectors of
the covariance matrix of the residuals. Project the SV residuals into the
eigenvector directions. The pca algorithm outputs the eigenvalues sorted
from largest to smallest, so the corresponding eigenvector matrix has the
&#8216;noisy&#8217; direction in the first column and the &#8216;clean&#8217; direction in the
final column.</p>
<p>Smallest eigenvalue: &#8216;quiet&#8217; direction</p>
<p>Largest eiegenvalue: &#8216;noisy&#8217; direction</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>**dates</strong> (<em>datetime series</em>) &#8211; dates of the time series measurements.</li>
<li><strong>**obs_data</strong> (<em>dataframe</em>) &#8211; dataframe containing columns for monthly/annual
means of the X, Y and Z components of the secular variation at the
observatories of interest.</li>
<li><strong>**model_data</strong> (<em>dataframe</em>) &#8211; dataframe containing columns for field model
prediction of the X, Y and Z components of the secular variation at
the same observatories as in obs_data.</li>
<li><strong>**residuals</strong> (<em>dataframe</em>) &#8211; dataframe containing the residuals of the SV
(difference between the observed data and model prediction).</li>
<li><strong>**proxy_number</strong> (<em>int</em>) &#8211; the number of &#8216;noisy&#8217; used to create the proxy
for theexternal signal removal. Default value is 1 (only the
residual in the direction of the largest eigenvalue is used). Using
n directions means that proxy is the sum of the SV residuals in the
n noisiest eigendirections.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>denoised_sv</strong> &#8211; dataframe with datetime objects in the first
column and columns for the denoised X, Y and Z SV components at each of
the observatories for which data were provided.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dataframe</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>Created on Tue Feb 16 17:22:26 2016</p>
<p>&#64;author: Grace</p>
<p>Module containing functions to parse World Data Centre (WDC) files</p>
<p>Part of the MagPy package for geomagnetic data analysis. This module provides
various functions to read, parse and manipulate the contents of World Data
Centre (WDC) formatted files containing geomagnetic data.</p>
<dl class="function">
<dt>
<code class="descclassname">magpy.inputoutput.</code><code class="descname">angles_to_geographic</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magpy/inputoutput.html#angles_to_geographic"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Use D and H values to calculate the X and Y field components.</p>
<p>The declination (D) and horizontal intensity (H) relate to the north (Y)
and east (X) components as follows:</p>
<p>X = H*cos(D)</p>
<p>Y = H*sin(D)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.18.1)"><em>pandas.DataFrame</em></a>) &#8211; dataframe containing columns for datetime
objects and daily means of the magnetic field components (D, I, F,
H, X, Y or Z).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>data</strong> &#8211;<dl class="docutils">
<dt>the same dataframe with datetime objects in</dt>
<dd>the first column and daily means of the field components in either
nT or degrees (depending on the component).</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.18.1)">pandas.DataFrame</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">magpy.inputoutput.</code><code class="descname">append_wdc_data</code><span class="sig-paren">(</span><em>obs_name</em>, <em>path='/Users/Grace/Dropbox/BGS_data/hourval/single_obs/%s/*.wdc'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magpy/inputoutput.html#append_wdc_data"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Append all WDC data for an observatory into a single dataframe.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obs_name</strong> (<em>str</em>) &#8211; observatory name (as 3-digit IAGA code).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>data</strong> &#8211;<dl class="docutils">
<dt>dataframe containing all available daily</dt>
<dd>geomagnetic data at a single observatory. First column is a series
of datetime objects (in the format yyyy-mm-dd) and subsequent
columns are the X, Y and Z components of the magnetic field at the
specified times.</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.18.1)">pandas.DataFrame</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">magpy.inputoutput.</code><code class="descname">combine_csv_data</code><span class="sig-paren">(</span><em>obs_list</em>, <em>data_path</em>, <em>model_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magpy/inputoutput.html#combine_csv_data"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Read and combine observatory and model SV data for several locations.</p>
<p>Calls read_csv_data to read observatory data and field model predictions
for each observatory in a list. The data and predictions for individual
observatories are combined into their respective large dataframes. The
first column contains datetime objects and subsequent columns contain X, Y
and Z secular variation components (in groups of three) for all
observatories.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>obs_list</strong> (<em>list</em>) &#8211; list of observatory names (as 3-digit IAGA codes).</li>
<li><strong>data_path</strong> (<em>str</em>) &#8211; path to the CSV files containing observatory data.</li>
<li><strong>model_path</strong> (<em>str</em>) &#8211; path to the CSV files containing model SV data.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p><strong>obs_data</strong> &#8211;</p>
<dl class="docutils">
<dt>dataframe containing SV data for all</dt>
<dd><p class="first last">observatories in obs_list.</p>
</dd>
<dt>model_data (pandas.DataFrame): dataframe containing SV predictions for</dt>
<dd><p class="first last">all observatories in obs_list.</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.18.1)">pandas.DataFrame</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">magpy.inputoutput.</code><code class="descname">covobs_datetimes</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magpy/inputoutput.html#covobs_datetimes"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create datetime objects from the year column of a COV-OBS output file.</p>
<p>The format output by the field model is year.decimalmonth e.g. 1960.08 is
Jan 1960</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.18.1)"><em>pandas.DataFrame</em></a>) &#8211; needs a column for decimal year (in yyyy.mm
format).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>data</strong> &#8211;<dl class="docutils">
<dt>the same dataframe with the decimal year</dt>
<dd>column replced with a series of datetime objects in the format
yyyy-mm-dd.</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.18.1)">pandas.DataFrame</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">magpy.inputoutput.</code><code class="descname">covobs_parsefile</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magpy/inputoutput.html#covobs_parsefile"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load a datafile containing SV predictions from a field model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fname</strong> (<em>str</em>) &#8211; path to a COV-OBS datafile.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>data</strong> &#8211;<dl class="docutils">
<dt>dataframe containing daily geomagnetic</dt>
<dd>data. First column is a series of datetime objects (in the format
yyyy-mm-dd) and subsequent columns are the X, Y and Z components of
the SV at the specified times.</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.18.1)">pandas.DataFrame</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">magpy.inputoutput.</code><code class="descname">covobs_readfile</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magpy/inputoutput.html#covobs_readfile"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Wrapper function to call covobs_parsefile and covobs_datetimes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fname</strong> (<em>str</em>) &#8211; path to a COV-OBS format datafile.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>data</strong> &#8211;<dl class="docutils">
<dt>dataframe containing the data read from the</dt>
<dd>file. First column is a series of datetime objects (in the
format yyyy-mm-dd) and subsequent columns are the X, Y and Z
components of the SV at the specified times.</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.18.1)">pandas.DataFrame</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">magpy.inputoutput.</code><code class="descname">daily_mean_conversion</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magpy/inputoutput.html#daily_mean_conversion"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Use the tabular base to calculate daily means in nT or degrees (D, I).</p>
<p>Uses the tabular base and daily value from the WDC file to calculate the
daily means of magnetic field components. Value is in nT for H, F, X, Y or
Z components and in degrees for D or I components. Called by wdc_xyz.</p>
<p>daily_mean = tabular_base*100 + wdc_daily_value (for components in nT)</p>
<p>daily_mean = tabular_base + wdc_daily_value/600 (for D and I components)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.18.1)"><em>pandas.DataFrame</em></a>) &#8211; dataframe containing columns for datetime
objects, magnetic field component (D, I, F, H, X, Y or Z), the
tabular base and daily mean.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>data</strong> &#8211;<dl class="docutils">
<dt>the same dataframe with datetime objects in</dt>
<dd>the first column and daily means of the field components in either
nT or degrees (depending on the component).</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.18.1)">pandas.DataFrame</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">magpy.inputoutput.</code><code class="descname">data_resampling</code><span class="sig-paren">(</span><em>data</em>, <em>sampling='M'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magpy/inputoutput.html#data_resampling"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Resample the daily geomagnetic data to a specified frequency.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.18.1)"><em>pandas.DataFrame</em></a>) &#8211; dataframe containing datetime objects and
daily means of magnetic data.</li>
<li><strong>sampling</strong> (<em>str</em>) &#8211; new sampling frequency. Default value is &#8216;M&#8217;
(monthly means), which averages data for each month and sets
the datetime object to the final day of that month. Use &#8216;MS&#8217;
to set the datetime object to the first day of the month.
Another useful option is &#8216;A&#8217; (annual means), which averages
data for a whole year and sets the datetime object to the final
day of the year. Use &#8216;AS&#8217; to set the datetime object to the
first day of the year.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p><strong>data</strong> &#8211;</p>
<dl class="docutils">
<dt>dataframe of datetime objects and</dt>
<dd><p class="first last">monthly/annual means of observatory data.</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.18.1)">pandas.DataFrame</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">magpy.inputoutput.</code><code class="descname">read_csv_data</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magpy/inputoutput.html#read_csv_data"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Read dataframe from a CSV file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fname</strong> (<em>str</em>) &#8211; path to a CSV datafile.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>data</strong> &#8211;<dl class="docutils">
<dt>dataframe containing the data read from the</dt>
<dd>CSV file.</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.18.1)">pandas.DataFrame</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">magpy.inputoutput.</code><code class="descname">wdc_datetimes</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magpy/inputoutput.html#wdc_datetimes"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Create datetime objects from the fields extracted from a WDC datafile.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.18.1)"><em>pandas.DataFrame</em></a>) &#8211; needs columns for century, year (yy format),
month and day. Called by wdc_parsefile.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>data</strong> &#8211;<dl class="docutils">
<dt>the same dataframe with a series of datetime</dt>
<dd>objects (in the format yyyy-mm-dd) in the first column.</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.18.1)">pandas.DataFrame</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">magpy.inputoutput.</code><code class="descname">wdc_parsefile</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magpy/inputoutput.html#wdc_parsefile"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Load a WDC datafile and place the contents into a dataframe.</p>
<p>Load a datafile of WDC hourly geomagnetic data for a single observatory and
extract the contents. Can parse both the current WDC file format and the
previous format containing international quiet (Q) or disturbed (D) day
designation in place of the century field.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fname</strong> (<em>str</em>) &#8211; path to a WDC datafile.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>data</strong> &#8211;<dl class="docutils">
<dt>dataframe containing daily geomagnetic</dt>
<dd>data. First column is a series of datetime objects (in the format
yyyy-mm-dd) and subsequent columns are the X, Y and Z components of
the magnetic field at the specified times.</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.18.1)">pandas.DataFrame</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">magpy.inputoutput.</code><code class="descname">wdc_readfile</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magpy/inputoutput.html#wdc_readfile"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Wrapper function to call wdc_parsefile, wdc_readfile and wdc_xyz.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fname</strong> (<em>str</em>) &#8211; path to a WDC datafile.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>data</strong> &#8211;<dl class="docutils">
<dt>dataframe containing the data read from the</dt>
<dd>WDC file. First column is a series of datetime objects (in the
format yyyy-mm-dd) and subsequent columns are the X, Y and Z
components of the magnetic field at the specified times.</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.18.1)">pandas.DataFrame</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">magpy.inputoutput.</code><code class="descname">wdc_xyz</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magpy/inputoutput.html#wdc_xyz"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Convert extracted WDC data to daily averages of X, Y and Z components.</p>
<p>Missing values (indicated by 9999 in the datafiles) are replaced with NaNs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.18.1)"><em>pandas.DataFrame</em></a>) &#8211; dataframe containing columns for datetime
objects, magnetic field component (D, I, F, H, X, Y or Z), the
tabular base and daily mean.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>data</strong> &#8211;<dl class="docutils">
<dt>the same dataframe with datetime objects in</dt>
<dd>the first column and columns for X, Y and Z components of magnetic
field (in nT).</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.18.1)">pandas.DataFrame</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<code class="descclassname">magpy.inputoutput.</code><code class="descname">write_csv_data</code><span class="sig-paren">(</span><em>data</em>, <em>data_path</em>, <em>obs_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magpy/inputoutput.html#write_csv_data"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Write dataframe to a CSV file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.18.1)"><em>pandas.DataFrame</em></a>) &#8211; data to be written to file.</li>
<li><strong>data_path</strong> (<em>str</em>) &#8211; path to which the CSV file is written.</li>
<li><strong>obs_name</strong> (<em>str</em>) &#8211; name of observatory at which the data were obtained.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Grace Cox.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>